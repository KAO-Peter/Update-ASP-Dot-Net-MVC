@model YoungCloud.SignFlow.Databases.UnitOfWorks.SignFlowFormLevel

@Scripts.Render("~/bundles/validate")

@{
    ViewBag.Title = "AddFormLevel";
}

@if (TempData["message"] != null)
{
    <script type="text/javascript">
        $(function () {
            var message = @Html.Raw(Json.Encode(TempData["message"]));
            showAlertMessage(message);
        });
    </script>
}

<div class="modal-dialog modal-lg">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">@HRPortal.MultiLanguage.Resource.AddFormSignLevel</h4>
        </div>

        @using (Html.BeginForm("AddFormLevel", "SignFlowFormLevelSetting", FormMethod.Post, new { role = "form" }))
        {
            @Html.ValidationSummary(true)
            @Html.AntiForgeryToken()
            //hide data
            <input type="hidden" id="FormType" name="FormType" />
            <div class="modal-body">
                <div class="tab-content">
                    <div>
                        <div class="form-group">
                            @Html.DropDownList("LevelList", (IEnumerable<SelectListItem>)ViewData["SignFlowLevelList"], new { @class = "form-control", onchange = "levelSelected();" })
                            <input type="hidden" id="LevelID" name="LevelID" />
                            <input type="hidden" id="Name" name="Name" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <input type="submit" value="@HRPortal.MultiLanguage.Resource.BtnSave" class="btn btn-success" />
                <button type="button" class="btn btn-default" data-dismiss="modal"> @HRPortal.MultiLanguage.Resource.BtnClose</button>
            </div>
        }
    </div>
</div>
<script>
    $(function () {
        $('#FormType').val($('#CurrentFormType').val());
        levelSelected();
    })
    function levelSelected() {
        $('#LevelID').val($('#LevelList option:selected').val());
        $('#Name').val($('#LevelList option:selected').text());
    }
</script>